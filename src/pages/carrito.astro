---
import LayoutCarrito from '../layouts/LayoutCarrito.astro';
import CarritoComponente from '../components/carritocomponente.astro';
import Herop from '@components/Herop.astro';

// Nota: Los datos reales vendrán del localStorage en el cliente
// Aquí solo definimos la estructura para el SSR inicial
---

<LayoutCarrito title="Carrito de Compras | PrecioHogar" description="Revisa los productos en tu carrito de compras y finaliza tu pedido con facilidad en PrecioHogar.">
  <Herop message="Tu Carrito de Compras" />
  
  <section class="py-8">
    <div class="container mx-auto px-4">
      <CarritoComponente />
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Cargar productos del carrito desde localStorage
      const carrito = JSON.parse(localStorage.getItem('carrito') || '[]');
      
      // Si hay productos en el carrito, renderizamos el componente con los datos
      if (carrito.length > 0) {
        // Aquí no necesitamos hacer nada especial porque el componente CarritoComponente
        // ya maneja la lógica de cargar desde localStorage
      }
    });
  </script>
</LayoutCarrito>